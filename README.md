# ArchitectureRecoveryCSS553
Program to recover architecture from prescriptive and descriptive information.
Currently implemented two components: wed crawler and topic modeling component.

### Set-up
Prerequisites: installed Java 1.8 and Maven

Before running the program for the first time:
* Open the project folder in the terminal and call:
 `chmod +x setup.sh`
 `./setup.sh`
This will download all the dependencies (tools and libaries) and build the project .jar file.

### Running

1. Open the "urls.txt" file and insert URLs of the pages with relevant project documentation to be processed by the architecture recovery tool. There should be 1 URL per line, with each followed by a newline character. Save and close the file.
2. Open the main project folder in the terminal and type the following commands:
`chmod +x arch_recovery.sh`
`./arch_recovery.sh`
3. After tools execution is complete retrieve the results in the "arch_keys.txt" file.

### Other 

Before re-running the program with different input URLs, run the `./clean.sh` in from the terminal. This script deletes all the output files generated by the previous run of the program.

### Advanced - Using separate tools within the Architecture recovery project

#### Crawler

The "Crawler" component takes the name of a file that has a list of URLs in it. There should be 1 URL per line, with each followed by a newline character. It then writes to body portion of those URLs to files with names "datafile#.txt" where '#' corresponds to the number that the URL is on the file.


To run the .jar files created in the project. Use the following command in your respective terminal

    java -jar filename.jar
    
This will run the file as if you executed it in an IDE.

## Topic modeling using MALLET

Mallet is a command-line tool. It is called using the following commands:
`./mallet-2.0.8/bin/mallet import-dir --input ./Crawler/output --keep-sequence --remove-stopwords --output arch.mallet`
`./mallet-2.0.8/bin/mallet train-topics --input arch.mallet --num-topics 5 --optimize-interval 5 --output-state topic-state.gz  --output-topic-keys arch_keys.txt --output-doc-topics arch_composition.txt`
The results are thus saved in the "arch_keys.txt" file.